<ng-container *ngIf="categoryPageData$ | async as data">
  <div class="category-page">
    <div class="container">
      <div class="category-header" *ngIf="data.category">
        <h1>{{ data.category.name }}</h1>
        <p class="category-description" *ngIf="data.category.description">{{ data.category.description }}</p>
      </div>

      <div class="products-grid" *ngIf="data.products.length > 0; else noProducts">
        <mat-card class="product-card mat-elevation-z3" *ngFor="let product of data.products">
          <div class="product-media">
            <img [src]="siteService.resolveMediaUrl(product.mainImageUrl) || 'assets/images/placeholder.jpg'" [alt]="product.name" />
          </div>
          <mat-card-content>
            <h3 class="product-title">{{ product.name }}</h3>
            <p class="product-desc">{{ product.description }}</p>
          </mat-card-content>
          <mat-card-actions>
            <button mat-stroked-button color="primary" [routerLink]="['/products', product.slug]">
              {{ 'PRODUCTS.VIEW_DETAILS' | translate }}
            </button>
            <span class="spacer"></span>
            <div class="product-price" *ngIf="product.price">{{ product.price | currency:'EUR':'symbol':'1.2-2' }}</div>
          </mat-card-actions>
        </mat-card>
      </div>

      <ng-template #noProducts>
        <div class="no-products">
          <p>{{ 'CATEGORIES.NO_PRODUCTS' | translate }}</p>
        </div>
      </ng-template>
    </div>
  </div>
</ng-container>
